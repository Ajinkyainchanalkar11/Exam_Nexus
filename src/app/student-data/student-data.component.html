<div *ngIf="show" class="student-data-container fade-in">
  <h2><mat-icon>group</mat-icon> Student Data for Block {{ selectedBlockNumber }}</h2>
  <div class="mat-elevation-z8 table-container">
    <table mat-table [dataSource]="studentData" class="mat-table">
      <ng-container matColumnDef="prn">
        <th mat-header-cell *matHeaderCellDef> <mat-icon>credit_card</mat-icon> PRN </th>
        <td mat-cell *matCellDef="let element"> {{ element.prn }} </td>
      </ng-container>

      <ng-container matColumnDef="studentName">
        <th mat-header-cell *matHeaderCellDef> <mat-icon>person</mat-icon> Student Name </th>
        <td mat-cell *matCellDef="let element"> {{ element.studentname }} </td>
      </ng-container>

      <ng-container matColumnDef="program">
        <th mat-header-cell *matHeaderCellDef> <mat-icon>school</mat-icon> Program </th>
        <td mat-cell *matCellDef="let element"> {{ element.programname }} </td>
      </ng-container>

      <ng-container matColumnDef="class">
        <th mat-header-cell *matHeaderCellDef> <mat-icon>class</mat-icon> Class </th>
        <td mat-cell *matCellDef="let element"> {{ element.year }} </td>
      </ng-container>

      <ng-container matColumnDef="course">
        <th mat-header-cell *matHeaderCellDef> <mat-icon>book</mat-icon> Course </th>
        <td mat-cell *matCellDef="let element"> {{ element.course }} </td>
      </ng-container>

      <ng-container matColumnDef="courseCode">
        <th mat-header-cell *matHeaderCellDef> <mat-icon>qr_code</mat-icon> Course Code </th>
        <td mat-cell *matCellDef="let element"> {{ element.coursecode }} </td>
      </ng-container>

      <ng-container matColumnDef="blockNo">
        <th mat-header-cell *matHeaderCellDef> <mat-icon>apartment</mat-icon> Block No </th>
        <td mat-cell *matCellDef="let element"> {{ element.block_no }} </td>
      </ng-container>

      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef> <mat-icon>calendar_today</mat-icon> Date </th>
        <td mat-cell *matCellDef="let element"> {{ element.date }} </td>
      </ng-container>

      <ng-container matColumnDef="attendance">
        <th mat-header-cell *matHeaderCellDef> <mat-icon>check_circle</mat-icon> Attendance </th>
        <td mat-cell *matCellDef="let element">
          <label class="switch">
            <input type="checkbox" [(ngModel)]="element.attendance" name="attendance">
            <span class="slider round"></span>
          </label>
        </td>
      </ng-container>

      <ng-container matColumnDef="malpractice">
        <th mat-header-cell *matHeaderCellDef> <mat-icon>warning</mat-icon> MalPractice </th>
        <td mat-cell *matCellDef="let element">
          <label class="switch">
            <input type="checkbox" [(ngModel)]="element.malpractice" name="malpractice">
            <span class="slider round"></span>
          </label>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
  <button mat-raised-button color="primary" class="mt-4" (click)="openConfirmationDialog()">
    <mat-icon>assignment</mat-icon> Generate Absent Report
  </button>
</div>
